<div class="ui main text container">
	<h1 class="ui header">Alta de titular</h1>

	<form #atForm="ngForm" [formGroup]="altaTitularForm" (ngSubmit)="onSubmit(atForm)" class="ui form">
		<h3 class="ui dividing header">Información del titular</h3>
		<div class="field">
			<label>Nombre</label>
			<div class="two fields">
				<div class="field">
					<input type="text" formControlName="nombre" name="nombre" placeholder="Nombre">
				</div>
				<div class="field">
					<input type="text" formControlName="apellido" name="apellido" placeholder="Apellido">
				</div>
			</div>
		</div>

		<div class="field">
			<label>Domicilio</label>
			<div class="field">
				<input type="text" formControlName="domicilio" name="domicilio" placeholder="Dirección">
			</div>
		</div>

		<div class="two fields">
			<div class="field">
				<label>Tipo de Documento</label>
				<select class="ui fluid dropdown" formControlName="tipoDocumento">
					<option value="{{ enum.value }}" *ngFor="let enum of TipoDocumento | keyvalue">{{ enum.key }}</option>
				</select>
			</div>
			<div class="field">
				<label>Número de Documento</label>
				<div class="field">
					<input type="number" formControlName="nroDocumento" name="nroDocumento"
					placeholder="Número de Documento">
				</div>
			</div>
		</div>

		<div class="three fields">
			<div class="ui calendar field">
				<label>Fecha de Nacimiento</label>
				<div class="ui input left">
					<input type="date" formControlName="fechaNacimiento" name="fechaNacimiento" id="calendar">
				</div>
			</div>

			<div class="field">
				<label>Grupo Sanguíneo</label>
				<select class="ui fluid dropdown" formControlName="grupoSanguineo">
					<option value="{{ enum.value }}" *ngFor="let enum of GrupoSanguineo | keyvalue">{{ enum.key }}</option>
				</select>
			</div>

			<div class="field">
				<label>Factor RH</label>
				<select class="ui fluid dropdown" formControlName="factorRh">
					<option value="{{ enum.key }}" *ngFor="let enum of FactorRH | keyvalue">{{ enum.value }}</option>
				</select>
			</div>
		</div>

		<div class="ui form">
			<div class="inline fields">
				<div class="ui checkbox">
					<input id="donante" type="checkbox" name="donante" formControlName="donante">
					<label for="donante" style="cursor: pointer">Donante de Órganos</label>
				</div>
			</div>
		</div>

		<div class="two fields">
			<div class="twelve wide field">
				<label>Foto</label>
				<input type="file" (change)="onFileSelected($event)" accept="image/x-png,image/gif,image/jpeg" />
				<input type="hidden" formControlName="foto" />

				<p class="allowed-types">Tipos de archivos permitidos: PNG, JPG, GIF.</p>
			</div>
			<div class="two wide field">
				<img width="150px" height="150px" *ngIf="this.selectedImage" src="{{ this.selectedImage }}" />
			</div>
		</div>

		<div class="ui icon message" *ngIf="displayWaitMessage">
			<i class="notched circle loading icon"></i>
			<div class="content">
				<div class="header">Procesando</div>
				<p>Espere un segundo.</p>
			</div>
		</div>

		<div *ngIf="this.displayOK" class="ui positive message">
			<div class="header">Alta exitosa</div>
			<p>El titular fue dado de alta exitosamente.</p>
		</div>

		<div *ngIf="displayNoResultMessage" class="ui negative message">
			<div class="header">Hubo un error al procesar lo solicitado</div>
			<p>{{ this.displayNoResultMessage }}</p>
		</div>

		<input [disabled]="!altaTitularForm.valid" class="ui button" type="submit" value="Enviar" />
	</form>
</div>
